<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VibrantEnergy| Desafio</title>
    <link rel="stylesheet" href="css-VIbrantEnergy/paginaInicial.css">
    <link rel="stylesheet" href="css-VIbrantEnergy/login.css">
    <link rel="stylesheet" href="css-VIbrantEnergy/Curiosidades.css">
    <link rel="stylesheet" href="css-VIbrantEnergy/desafio.css">
    <link rel="stylesheet" href="css-VIbrantEnergy/ranking.css">

</head>

<body onload="mostrarRanking()">

    <div class="header">
        <div class="logo">
            <img src="img/camelia-flor.png" alt="Logo VibrantEnergy">
            <h2><a href="index.html"></a>VibrantEnergy</h2>
        </div>
        <div class="container">
            <span><a href="index.html">Página Inicial</a></span>
            <span><a href="index.html">Curiosidades</a></span>
            <span><a href="Desafio.html">Desafios</a></span>
            <span><a href="login.html">Login</a></span>
            <span><a href="Cadastro.html">Cadastro</a></span>

        </div>
    </div>
    <div class="containerRanking">
        <div class="kpis">
            <div class="fomularioKpi1">
                <div class="cardKpi" id="cardDevoto"> <img src="img/cerebroDevoto.png" class="iconTipoUsuario" alt=""> Quantidade DEVOTO <br></div>
                <div class="cardKpi" id="cardVisitante"><img src="img/cerebroVisitante.png" class="iconTipoUsuario" alt=""> Quantidade VISITANTE <br></div>
            </div>
            <div class="fomularioKpi2">
                <div class="cardKpi" id="cardEspecialista"> <img src="img/cerebroEspecialista.png" class="iconTipoUsuario" alt=""> Quantidade ESPECIALISTA <br></div>
                <div class="cardKpi" id="cardNomade"> <img src="img/cerebroNomade.png" class="iconTipoUsuario" alt=""> Quantidade Nomade <br></div>
            </div>
        </div>
        <div class="ranking">
            <h1 class="textoRank"><img src="img/ranking.png" class="imagemTrofeu" alt="">RANKING<img
                    src="img/ranking.png" class="imagemTrofeu" alt=""></h1>
            <img src="img/coroa (2).png " class="coroaImg" alt="">
            <div class="formulario" id="div_exibir" style="color: white;">

                <div class="rankingQuiz">
                    <div id="posicaoRanking"> Posicão <br>
                        <div id="posicaoUsuario">1 <br><br>2 <br><br> 3 <br><br> 4 <br><br> 5 <br><br>
                        </div>
                    </div>
                    <div class="campoRank" id="nomeUsuario">Nome usuário <br>
                        <div id="nomeRank"></div>
                    </div>
                    <div class="campoRank" id="pontosFeitos">Pontos <br>
                        <div id="pontosRank"></div>
                    </div>
                    <div class="campoRank" id="tipoOuvintes">Tipo Ouvinte <br>
                        <div id="tipoRank"></div>
                    </div>

                    <div class="campoRank" id="dataTentativa">Data Tentativa <br>
                        <div id="dataTentativaRank"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- <img src="img/rankFundo.jpeg" class="fundoRank" alt=""> -->

</body>

</html>

<script>

    async function mostrarRanking() {

        var ranking = await fetch("/usuarios/mostrarRanking", {
            method: "GET",
            headers: {
                "Content-Type": "application/json",
            }
        }).then(res => res.json())
        for (var posicao = 0; posicao < ranking.length; posicao += 1) {
            resultadoRanking(ranking[posicao])
        }
    }


    function resultadoRanking(rank) {

        console.log(rank)

        nomeRank.innerHTML += `${rank.nome}<br><br>`
        pontosRank.innerHTML += `${rank.pontuacao}<br><br>`
        dataTentativaRank.innerHTML += `${rank.dataTentativa}<br><br>`
        tipoRank.innerHTML+= `${rank.tipoUsuario}<br><br>`
        // for (QtdNomade = 0; QtdNomade<rank.tipoUsuario;QtdNomade+=1){
            if (rank.tipoUsuario=="Devoto"){
                cardDevoto.innerHTML+= 1
            }
            if (rank.tipoUsuario=="Visitante"){
                cardVisitante.innerHTML+=1
            }
            if (rank.tipoUsuario=="Especialista"){
                cardEspecialista.innerHTML+=1
            }
            if (rank.tipoUsuario=="Nomade"){
                cardNomade.innerHTML+=1
            }
            
        }
    // }


</script>